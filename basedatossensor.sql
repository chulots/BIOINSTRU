-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Servidor: 127.0.0.1
-- Tiempo de generación: 08-12-2025 a las 00:12:28
-- Versión del servidor: 10.4.32-MariaDB
-- Versión de PHP: 8.2.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Base de datos: `basedatossensor`
--

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `mediciones`
--

CREATE TABLE `mediciones` (
  `id` int(11) NOT NULL,
  `paciente_id` int(11) NOT NULL,
  `timestamp` datetime DEFAULT current_timestamp(),
  `modo` int(11) NOT NULL,
  `spo2` float NOT NULL,
  `lpm` float NOT NULL,
  `alarma_estado_sonda` tinyint(4) NOT NULL,
  `alarma_spo2` tinyint(4) NOT NULL,
  `alarma_lpm` tinyint(4) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `mediciones`
--

INSERT INTO `mediciones` (`id`, `paciente_id`, `timestamp`, `modo`, `spo2`, `lpm`, `alarma_estado_sonda`, `alarma_spo2`, `alarma_lpm`) VALUES
(1, 2, '2025-12-07 01:07:56', 1, 97.5, 75.2, 0, 0, 0),
(2, 1, '2025-12-07 01:15:18', 1, 97.5, 75.2, 0, 0, 0),
(3, 1, '2025-12-07 01:50:56', 1, 97.5, 75.2, 0, 0, 0),
(4, 1, '2025-12-07 11:15:29', 1, 97.5, 75.2, 0, 0, 0),
(5, 1, '2025-12-07 11:17:59', 1, 97.5, 75.2, 0, 0, 0),
(6, 1, '2025-12-07 11:18:12', 1, 96.8, 78.5, 0, 0, 0),
(7, 1, '2025-12-07 11:18:31', 1, 95.9, 72.3, 0, 0, 0),
(8, 1, '2025-12-07 11:18:41', 1, 97.1, 76, 0, 0, 0),
(9, 1, '2025-12-07 11:19:39', 1, 97.1, 76, 0, 0, 0),
(10, 1, '2025-12-07 11:20:37', 1, 92.4, 65.3, 0, 1, 0),
(11, 1, '2025-12-07 11:21:07', 1, 91.8, 63.7, 0, 1, 0),
(12, 1, '2025-12-07 11:21:28', 1, 91.5, 62.8, 0, 1, 0),
(13, 1, '2025-12-07 11:22:24', 1, 91.5, 62.8, 0, 1, 0),
(14, 1, '2025-12-07 11:24:33', 1, 91.8, 63.7, 0, 1, 0),
(15, 1, '2025-12-07 11:25:13', 1, 91.5, 62.8, 0, 1, 0),
(16, 1, '2025-12-07 11:27:39', 1, 97.5, 75.2, 0, 0, 0),
(17, 1, '2025-12-07 11:30:28', 1, 92.4, 65.3, 0, 1, 0),
(18, 1, '2025-12-07 11:31:20', 1, 91.8, 63.7, 0, 1, 0),
(19, 1, '2025-12-07 11:37:16', 1, 92.4, 65.3, 0, 1, 0),
(20, 1, '2025-12-07 11:41:03', 1, 92.4, 65.3, 0, 1, 0),
(21, 1, '2025-12-07 11:43:15', 1, 97.1, 76, 0, 0, 0),
(22, 1, '2025-12-07 11:53:47', 1, 95.9, 72.3, 0, 0, 0),
(23, 1, '2025-12-07 11:53:55', 1, 95.9, 72.3, 0, 0, 0),
(24, 1, '2025-12-07 11:54:06', 1, 95.9, 72.3, 0, 0, 0),
(25, 1, '2025-12-07 11:54:42', 1, 95.9, 72.3, 0, 0, 0),
(26, 1, '2025-12-07 11:55:07', 1, 97.5, 75.2, 0, 0, 0),
(27, 1, '2025-12-07 11:57:17', 1, 91.8, 63.7, 0, 1, 0),
(28, 1, '2025-12-07 12:01:44', 1, 92, 64.5, 0, 1, 0),
(29, 1, '2025-12-07 12:02:15', 1, 92.4, 65.3, 0, 1, 0),
(30, 1, '2025-12-07 12:09:32', 1, 92.4, 65.3, 0, 1, 0),
(31, 1, '2025-12-07 12:12:32', 1, 97.1, 76, 0, 0, 0),
(32, 1, '2025-12-07 12:20:53', 1, 95.9, 72.3, 0, 0, 0),
(33, 1, '2025-12-07 12:24:44', 1, 95.9, 72.3, 0, 0, 0),
(34, 1, '2025-12-07 12:24:51', 1, 95.9, 72.3, 0, 0, 0),
(35, 1, '2025-12-07 12:25:10', 1, 95.9, 72.3, 0, 0, 0),
(36, 1, '2025-12-07 12:25:51', 1, 97.1, 76, 0, 0, 0),
(37, 1, '2025-12-07 12:26:48', 1, 97.1, 76, 0, 0, 0),
(38, 1, '2025-12-07 12:32:03', 1, 95.9, 72.3, 0, 0, 0),
(39, 1, '2025-12-07 12:35:49', 1, 95.9, 72.3, 0, 0, 0),
(40, 1, '2025-12-07 12:39:01', 1, 95.9, 72.3, 0, 0, 0),
(41, 1, '2025-12-07 12:40:58', 1, 95.9, 72.3, 0, 0, 0),
(42, 1, '2025-12-07 12:44:52', 1, 97.1, 76, 0, 0, 0),
(43, 1, '2025-12-07 12:45:01', 1, 97.1, 76, 0, 0, 0),
(44, 1, '2025-12-07 12:47:46', 1, 97.1, 76, 0, 0, 0),
(45, 1, '2025-12-07 12:59:59', 1, 97.1, 76, 0, 0, 0),
(46, 1, '2025-12-07 17:06:11', 1, 97.1, 76, 0, 0, 0),
(47, 1, '2025-12-07 17:06:11', 1, 97.1, 76, 0, 0, 0),
(48, 1, '2025-12-07 17:08:26', 1, 91.8, 63.7, 0, 1, 0),
(49, 1, '2025-12-07 17:08:27', 1, 91.8, 63.7, 0, 1, 0),
(50, 1, '2025-12-07 17:08:27', 1, 91.8, 63.7, 0, 1, 0),
(51, 1, '2025-12-07 17:08:27', 1, 91.8, 63.7, 0, 1, 0),
(52, 1, '2025-12-07 17:08:27', 1, 91.8, 63.7, 0, 1, 0),
(53, 1, '2025-12-07 17:08:27', 1, 91.8, 63.7, 0, 1, 0),
(54, 1, '2025-12-07 17:08:56', 1, 92, 64.5, 0, 1, 0),
(55, 1, '2025-12-07 17:08:57', 1, 92, 64.5, 0, 1, 0),
(56, 1, '2025-12-07 17:08:57', 1, 92, 64.5, 0, 1, 0),
(57, 1, '2025-12-07 17:09:15', 1, 92, 64.5, 0, 1, 0),
(58, 1, '2025-12-07 17:09:31', 1, 92, 64.5, 0, 1, 0),
(59, 1, '2025-12-07 17:10:09', 1, 97.1, 76, 0, 0, 0),
(60, 1, '2025-12-07 17:10:16', 1, 97.1, 76, 0, 0, 0),
(61, 1, '2025-12-07 17:10:19', 1, 97.1, 76, 0, 0, 0),
(62, 1, '2025-12-07 17:11:08', 1, 97.1, 76, 0, 0, 0),
(63, 1, '2025-12-07 17:11:23', 1, 95.9, 72.3, 0, 0, 0),
(64, 1, '2025-12-07 17:13:22', 1, 97.1, 76, 0, 0, 0),
(65, 1, '2025-12-07 17:14:27', 1, 97.1, 76, 0, 0, 0),
(66, 2, '2025-12-07 17:16:51', 1, 97.1, 76, 0, 0, 0),
(67, 2, '2025-12-07 17:17:15', 1, 91.5, 62.8, 0, 1, 0),
(68, 2, '2025-12-07 17:17:42', 1, 91.8, 63.7, 0, 1, 0),
(69, 2, '2025-12-07 17:17:59', 1, 97.5, 75.2, 0, 0, 0),
(70, 2, '2025-12-07 17:30:31', 1, 97.1, 76, 0, 0, 0),
(71, 2, '2025-12-07 17:30:46', 1, 92.4, 65.3, 0, 1, 0),
(72, 2, '2025-12-07 17:30:55', 1, 92.4, 65.3, 1, 1, 0),
(73, 2, '2025-12-07 17:31:14', 1, 97.1, 76, 0, 0, 0),
(74, 2, '2025-12-07 17:42:06', 1, 92.4, 65.3, 0, 1, 0),
(75, 2, '2025-12-07 17:53:29', 1, 97.1, 76, 0, 0, 0),
(76, 2, '2025-12-07 17:54:55', 1, 92.4, 65.3, 0, 1, 0),
(77, 2, '2025-12-07 18:03:38', 1, 97.1, 76, 0, 0, 0),
(78, 2, '2025-12-07 18:03:51', 1, 91.5, 62.8, 0, 1, 0),
(79, 2, '2025-12-07 18:04:10', 1, 91.5, 62.8, 1, 0, 0),
(80, 2, '2025-12-07 18:04:22', 1, 91.5, 62.8, 0, 0, 1),
(81, 2, '2025-12-07 18:04:30', 1, 91.5, 62.8, 0, 0, 2),
(82, 2, '2025-12-07 18:04:48', 1, 97.1, 76, 0, 0, 0),
(83, 2, '2025-12-07 18:07:32', 1, 97.1, 76, 0, 0, 0),
(84, 2, '2025-12-07 18:20:55', 1, 92.4, 65.3, 0, 1, 0),
(85, 2, '2025-12-07 18:22:08', 1, 97.1, 76, 0, 0, 0),
(86, 2, '2025-12-07 18:32:41', 1, 92.4, 65.3, 0, 1, 0),
(87, 2, '2025-12-07 18:33:34', 1, 97.1, 76, 0, 0, 0),
(88, 2, '2025-12-07 18:34:17', 1, 92.4, 65.3, 0, 1, 0);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `pacientes`
--

CREATE TABLE `pacientes` (
  `id` int(11) NOT NULL,
  `nombre` varchar(100) NOT NULL,
  `edad` int(11) NOT NULL,
  `correo` varchar(100) NOT NULL,
  `genero` enum('masculino','femenino') NOT NULL,
  `usuario` varchar(50) NOT NULL,
  `contrasena` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `pacientes`
--

INSERT INTO `pacientes` (`id`, `nombre`, `edad`, `correo`, `genero`, `usuario`, `contrasena`) VALUES
(1, 'ALAN BRITO', 30, 'alanbrito@example.com', 'masculino', 'alambre', '101001'),
(2, 'ANA TOMIA', 22, 'anatomia@example.com', 'femenino', 'anatomia', '101002');

--
-- Índices para tablas volcadas
--

--
-- Indices de la tabla `mediciones`
--
ALTER TABLE `mediciones`
  ADD PRIMARY KEY (`id`),
  ADD KEY `paciente_id` (`paciente_id`);

--
-- Indices de la tabla `pacientes`
--
ALTER TABLE `pacientes`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `correo` (`correo`),
  ADD UNIQUE KEY `usuario` (`usuario`);

--
-- AUTO_INCREMENT de las tablas volcadas
--

--
-- AUTO_INCREMENT de la tabla `mediciones`
--
ALTER TABLE `mediciones`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=89;

--
-- AUTO_INCREMENT de la tabla `pacientes`
--
ALTER TABLE `pacientes`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- Restricciones para tablas volcadas
--

--
-- Filtros para la tabla `mediciones`
--
ALTER TABLE `mediciones`
  ADD CONSTRAINT `mediciones_ibfk_1` FOREIGN KEY (`paciente_id`) REFERENCES `pacientes` (`id`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
